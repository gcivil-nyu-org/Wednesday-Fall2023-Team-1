{% extends 'base.html' %}

{% load static %}
{% block body_class %}background{% endblock %}

{% block content%}
    <div class="user-profile container-fluid col-md-8 ">
        <h1>User Profile</h1>
        
        <div class="img-container container col-md-4 rounded-circle">
            {% if user.profile_image_url %}
                <img src="{{ user.profile_image_url }}" class="img-fluid rounded-circle mx-auto d-block" alt="User Image">
            {% else %}
                <img src="{% static 'user_profile/blank_user_profile_image.jpeg' %}" class="img-fluid rounded-circle mx-auto d-block" alt="Default Image">
            {% endif %}
        </div>

        <div class="user-details container">
            <p>Username: {{ user.username }}</p>
            <p>Total Followers: {{ user.total_followers}}</p>
            <p>Current Vibe: {{ vibe.user_audio_vibe }} {% if vibe.user_lyrics_vibe %}{{ vibe.user_lyrics_vibe }}{% endif %}</p>
            
            {% if user.user_country %}
            <p>Country: {{ user.user_country }}</p>    
            {% else %}
            <p>Country: Not Specified</p>    
            {% endif %}
            
            {% if user.user_bio %}
            <p>Bio:<br> {{ user.user_bio }}</p>    
            {% else %}
            <p>Bio:<br> Not Available</p>    
            {% endif %}
        
            {% if user.user_city %}
            <p>City:<br> {{ user.user_city }}</p>    
            {% else %}
            <p>User City:<br> Not Available</p>    
            {% endif %}

        </div>

        <form class="col-sm-6" action="{% url 'user_profile:update_profile' user.user_id %}" method="post">
          {% csrf_token %}
          <div >
            <button type="submit"><i class="bi bi-gear-wide-connected"></i>Edit</button>
          </div>
        </form>
        
    </div>

{% endblock %}